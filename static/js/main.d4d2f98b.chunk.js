(this["webpackJsonpreact-gallery-app"]=this["webpackJsonpreact-gallery-app"]||[]).push([[0],{60:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(29),a=c.n(r),s=c(12),o=c(8),i=c(9),h=c(13),l=c(11),j=c(10),p=c(2),b=c(30),d=c.n(b),u="bedd7ec820fc595c9fd3adf55637d48a",O=c(0),f=function(){return Object(O.jsxs)("div",{className:"not-found",children:[Object(O.jsx)("h3",{children:"No Results Found"}),Object(O.jsx)("p",{children:"Sorry, your search did not return any results. Please try again."})]})},x=function(e){return Object(O.jsx)("li",{children:Object(O.jsx)("img",{src:e.src,alt:e.alt})})},g=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){var e=this.props.photos.map((function(e){return Object(O.jsx)(x,{src:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_q.jpg"),alt:e.title},e.id)}));return Object(O.jsxs)("div",{className:"photo-container",children:[Object(O.jsxs)("h2",{children:["Results for ",this.props.topic]}),Object(O.jsx)("ul",{children:e})]})}}]),c}(n.Component),m=Object(p.g)(g),v=function(){return Object(O.jsxs)("div",{className:"not-found",children:[Object(O.jsx)("h3",{children:"Error"}),Object(O.jsx)("p",{children:"Sorry, there was an error retriving your images. Please try again."})]})},S=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{children:Object(O.jsxs)(p.d,{children:[Object(O.jsx)(p.b,{exact:!0,path:"/",render:function(){return Object(O.jsx)(p.a,{to:"/search/".concat(e.props.topic)})}}),Object(O.jsx)(p.b,{path:"/search/:topic",render:function(){return Object(O.jsx)(m,{topic:e.props.topic,photos:e.props.photos})}})," ",Object(O.jsx)(p.b,{exact:!0,path:"/noresults",component:f})," ",Object(O.jsx)(p.b,{exact:!0,path:"/404",component:v})," ",Object(O.jsx)(p.b,{component:f})," "]})})}}]),c}(n.Component),y=Object(p.g)(S),w=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(e){var n;return Object(o.a)(this,c),(n=t.call(this,e)).onSearchChange=function(e){n.setState({searchText:e.target.value.toLowerCase()})},n.handleSubmit=function(e){e.preventDefault(),n.props.newSearch(n.state.searchText),n.props.history.push("/search/".concat(n.state.searchText)),e.currentTarget.reset()},n.state={searchText:""},n.onSearchChange=n.onSearchChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(i.a)(c,[{key:"render",value:function(){return Object(O.jsxs)("form",{className:"search-form",onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"search",onChange:this.onSearchChange,name:"search",placeholder:"Search...",required:!0}),Object(O.jsx)("button",{type:"submit",className:"search-button",children:Object(O.jsxs)("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Object(O.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})})]})}}]),c}(n.Component),k=Object(p.g)(w),C=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(e){var n;return Object(o.a)(this,c),(n=t.call(this,e)).handleNav=function(e){n.props.newSearch(e.target.textContent.toLowerCase())},n.handleNav=n.handleNav.bind(Object(h.a)(n)),n}return Object(i.a)(c,[{key:"render",value:function(){return Object(O.jsx)("nav",{className:"main-nav",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(s.b,{to:"/search/cats",onClick:this.handleNav,children:"Cats"})}),Object(O.jsx)("li",{children:Object(O.jsx)(s.b,{to:"/search/dogs",onClick:this.handleNav,children:"Dogs"})}),Object(O.jsx)("li",{children:Object(O.jsx)(s.b,{to:"/search/unicorns",onClick:this.handleNav,children:"Unicorns"})})]})})}}]),c}(n.Component),N=Object(p.g)(C),I=function(e){return Object(O.jsxs)("div",{className:"title",children:[Object(O.jsx)("h1",{children:"Photo Gallery"}),Object(O.jsx)(k,{newSearch:e.newSearch}),Object(O.jsx)(N,{newSearch:e.newSearch})]})},T=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("iframe",{src:"https://giphy.com/embed/xTk9ZvMnbIiIew7IpW",width:"100%",height:"100%",style:{position:"relative"},frameBorder:"0",className:"giphy-embed",allowFullScreen:!0,title:"spinner"}),Object(O.jsx)("p",{children:Object(O.jsx)("a",{href:"https://giphy.com/gifs/loop-loading-loader-xTk9ZvMnbIiIew7IpW",children:"Loading... (via GIPHY)"})})]})},M=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(e){var n;return Object(o.a)(this,c),(n=t.call(this,e)).performSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nature";n.setState({loading:!0,searchString:null}),d.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(u,"&tags=").concat(e,"&per_page=24&format=json&nojsoncallback=1")).then((function(t){t.data.photos.photo.length>0?n.setState({searchString:e,photos:t.data.photos.photo,loading:!1}):(n.setState({loading:!1,searchString:"noresults"}),n.props.history.replace("/noresults"))})).catch((function(e){console.log("Error fetching and parsing data",e),n.setState({loading:!1}),n.props.history.replace("/404")}))},n.state={searchString:"",photos:[],loading:!0},n.performSearch=n.performSearch.bind(Object(h.a)(n)),n}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.performSearch()}},{key:"componentDidUpdate",value:function(){if(this.state.searchString){var e=this.props.location.pathname;if(e.includes("search")){var t=e.slice(8);t!==this.state.searchString&&this.performSearch(t)}}}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{newSearch:this.performSearch}),this.state.loading?Object(O.jsx)(T,{}):Object(O.jsx)(y,{topic:this.state.searchString,photos:this.state.photos})]})}}]),c}(n.Component),D=Object(p.g)(M);c(60);a.a.render(Object(O.jsx)(s.a,{children:Object(O.jsx)(D,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.d4d2f98b.chunk.js.map