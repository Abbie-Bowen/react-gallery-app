{"version":3,"sources":["config.js","components/NotFound.js","components/Photo.js","components/Gallery.js","components/SearchError.js","components/Body.js","components/SearchForm.js","components/Nav.js","components/Header.js","components/Loading.js","components/App.js","index.js"],"names":["apiKey","NotFound","className","Photo","props","src","alt","Gallery","photos","this","map","photo","server","id","secret","title","topic","Component","withRouter","SearchError","Body","exact","path","render","to","component","SearchForm","onSearchChange","e","setState","searchText","target","value","toLowerCase","handleSubmit","preventDefault","newSearch","state","history","push","currentTarget","reset","bind","onSubmit","type","onChange","name","placeholder","required","fill","height","viewBox","width","xmlns","d","Nav","handleNav","textContent","onClick","Header","Loading","style","position","frameBorder","allowFullScreen","href","App","performSearch","query","loading","searchString","axios","get","then","response","data","length","replace","catch","error","console","log","location","pathname","includes","urlTopic","slice","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d4d2f98b.chunk.js","sourcesContent":["const apiKey=`bedd7ec820fc595c9fd3adf55637d48a`;\r\n// secret: 941f20d5f9a3049c\r\n\r\nexport default apiKey;","import React from 'react';\r\n\r\nconst NotFound = () => (\r\n    <div className=\"not-found\">\r\n        <h3>No Results Found</h3>\r\n        <p>Sorry, your search did not return any results. Please try again.</p>\r\n    </div>\r\n)\r\n\r\nexport default NotFound;","import React from 'react';\r\n\r\nconst Photo = (props) => (\r\n    <li>\r\n        <img src={props.src} alt={props.alt} />\r\n    </li>\r\n)\r\n\r\nexport default Photo;","import React, {Component} from 'react';\r\nimport Photo from './Photo';\r\nimport {withRouter} from 'react-router';\r\n\r\nclass Gallery extends Component {\r\n    render () {\r\n        // map over array of photos from API call and create a photo box for each image\r\n        let photos = this.props.photos.map((photo) => {\r\n            return <Photo src={`https://live.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}_q.jpg`} alt={photo.title} key={photo.id} />\r\n        });\r\n\r\n        return (\r\n            <div className=\"photo-container\">\r\n            <h2>Results for {this.props.topic}</h2>\r\n                <ul>\r\n                    {photos}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Gallery);","import React from 'react';\r\n\r\nconst SearchError = () => (\r\n    <div className=\"not-found\">\r\n        <h3>Error</h3>\r\n        <p>Sorry, there was an error retriving your images. Please try again.</p>\r\n    </div>\r\n)\r\n\r\nexport default SearchError;","import React, {Component} from 'react'\r\nimport {\r\n    Route,\r\n    Switch,\r\n    withRouter,\r\n    Redirect\r\n} from 'react-router-dom'\r\n\r\nimport NotFound from \"./NotFound\";\r\nimport Gallery from \"./Gallery\";\r\nimport SearchError from \"./SearchError\";\r\n\r\nclass Body extends Component {\r\n    render () {\r\n        return (\r\n            <div>\r\n                <Switch>\r\n                    <Route exact path=\"/\" render={() => <Redirect to={`/search/${this.props.topic}`} /> } /> \r\n                    <Route path=\"/search/:topic\" render={() => <Gallery topic={this.props.topic} photos={this.props.photos} />} /> {/* main gallery */}\r\n                    <Route exact path=\"/noresults\" component={NotFound} /> {/* error messaging for no images found */}\r\n                    <Route exact path=\"/404\" component={SearchError} /> {/* error messaging for error in API call */}\r\n                    <Route component={NotFound} /> {/* fallback error messaging for url not found */}\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Body);\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass SearchForm extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state ={ searchText: ''};\r\n\r\n        this.onSearchChange = this.onSearchChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    onSearchChange = (e) => {\r\n        this.setState({ searchText: e.target.value.toLowerCase()});\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.newSearch(this.state.searchText);\r\n        this.props.history.push(`/search/${this.state.searchText}`);\r\n        e.currentTarget.reset();\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <form className=\"search-form\" onSubmit={this.handleSubmit}>\r\n                <input type=\"search\" onChange ={this.onSearchChange} name=\"search\" placeholder=\"Search...\" required/>\r\n                <button type=\"submit\" className=\"search-button\">\r\n                    <svg fill=\"#fff\" height=\"24\" viewBox=\"0 0 23 23\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\r\n                        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n                    </svg>\r\n                </button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchForm);","import React, {Component} from 'react';\r\nimport {NavLink,\r\n    withRouter\r\n} from 'react-router-dom';\r\n\r\nclass Nav extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleNav = this.handleNav.bind(this);\r\n    }\r\n\r\n    handleNav = (e) => {        \r\n        this.props.newSearch(e.target.textContent.toLowerCase());\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <nav className=\"main-nav\">\r\n                <ul>\r\n                    <li><NavLink to=\"/search/cats\" onClick={this.handleNav}>Cats</NavLink></li>\r\n                    <li><NavLink to=\"/search/dogs\" onClick={this.handleNav}>Dogs</NavLink></li>\r\n                    <li><NavLink to=\"/search/unicorns\" onClick={this.handleNav}>Unicorns</NavLink></li>\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Nav);","import React from 'react';\r\n\r\nimport SearchForm from './SearchForm';\r\nimport Nav from './Nav';\r\n\r\nconst Header = (props) => (\r\n            <div className=\"title\">\r\n                <h1>Photo Gallery</h1>\r\n                <SearchForm newSearch={props.newSearch} />\r\n                <Nav newSearch={props.newSearch}/>\r\n            </div>\r\n)\r\n\r\nexport default Header;\r\n\r\n                ","import React from 'react';\r\n\r\n//loading icon from giphy.com\r\n\r\nconst Loading = () => (\r\n    <div>\r\n        <iframe src=\"https://giphy.com/embed/xTk9ZvMnbIiIew7IpW\" width=\"100%\" height=\"100%\" style={{position : \"relative\"}} frameBorder=\"0\" className=\"giphy-embed\" allowFullScreen title=\"spinner\" />\r\n        <p\r\n        ><a href=\"https://giphy.com/gifs/loop-loading-loader-xTk9ZvMnbIiIew7IpW\">Loading... (via GIPHY)</a>\r\n        </p>\r\n    </div>\r\n)\r\nexport default Loading;","import React, {Component} from 'react'\nimport {withRouter} from 'react-router-dom'\nimport axios from 'axios';\n\n//API \nimport apiKey from '../config';\n\n//components\nimport Body from './Body';\nimport Header from './Header';\nimport Loading from './Loading';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            searchString: \"\",\n            photos: [],\n            loading: true,\n        };\n\n        this.performSearch= this.performSearch.bind(this);\n    }\n\n    //performs initial API call to fetch images when page loads\n    componentDidMount() {\n        this.performSearch();\n    }\n\n    //compares the current url search term to the current searchString state and fetches new images if they don't match\n    componentDidUpdate() {\n        if (this.state.searchString) {\n            let location = this.props.location.pathname;\n            if (location.includes(\"search\")) {\n                let urlTopic = location.slice(8);\n                if (urlTopic !== this.state.searchString) {\n                    this.performSearch(urlTopic);\n                }\n            } \n        }\n    }\n\n    //makes API call to flickr using search query\n    performSearch = (query = \"nature\") => {\n        this.setState({\n            loading: true,\n            searchString: null,\n        });\n        axios.get(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&tags=${query}&per_page=24&format=json&nojsoncallback=1`)\n        .then(response => {\n            if (response.data.photos.photo.length > 0) {\n                this.setState({\n                    searchString: query,\n                    photos: response.data.photos.photo,\n                    loading: false,\n            });\n        } else {\n            this.setState({\n                loading: false,\n                searchString: \"noresults\"\n            });\n            this.props.history.replace(\"/noresults\");\n        }\n        }).catch(error => {\n            console.log('Error fetching and parsing data', error);\n            this.setState({loading: false});\n            this.props.history.replace(\"/404\");\n        });\n    }\n\n    render () {\n            return (\n                <div>\n                    {/* Renders header that contains search bar and navigation buttons */}\n                    <Header newSearch={this.performSearch}/>\n                    {/* Renders main section that contains a loading icon if API is fetching or the body (gallery or error messaging) */}\n                    {this.state.loading? <Loading />\n                        : <Body topic={this.state.searchString} photos={this.state.photos}/> }\n                </div>\n            )\n        }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './CSS/index.css';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>,\ndocument.getElementById('root'));\n"],"sourceRoot":""}